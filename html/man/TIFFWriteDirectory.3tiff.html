<!-- Creator     : groff version 1.19.2 -->
<!-- CreationDate: Mon Jan  2 17:41:47 2006 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p     { margin-top: 0; margin-bottom: 0; }
       pre   { margin-top: 0; margin-bottom: 0; }
       table { margin-top: 0; margin-bottom: 0; }
</style>
<title>TIFFWriteDirectory</title>

</head>
<body>

<h1 align=center>TIFFWriteDirectory</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#RETURN VALUES">RETURN VALUES</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<a name="NAME"></a>
<h2>NAME</h2>



<p style="margin-left:11%; margin-top: 1em">TIFFWriteDirectory,
TIFFRewriteDirectory, TIFFCheckpointDirectory &minus; write
the current directory in an open <small>TIFF</small>
file</p>

<a name="SYNOPSIS"></a>
<h2>SYNOPSIS</h2>


<p style="margin-left:11%; margin-top: 1em"><b>#include
&lt;tiffio.h&gt;</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>int
TIFFWriteDirectory(TIFF *</b><i>tif</i><b>) <br>
int TIFFRewriteDirectory(TIFF *</b><i>tif</i><b>) <br>
int TIFFCheckpointDirectory(TIFF *</b><i>tif</i><b>)</b></p>

<a name="DESCRIPTION"></a>
<h2>DESCRIPTION</h2>



<p style="margin-left:11%; margin-top: 1em"><i>TIFFWriteDirectory</i>
will write the contents of the current directory to the file
and setup to create a new subfile in the same file.
Applications only need to call <i>TIFFWriteDirectory</i>
when writing multiple subfiles to a single
<small>TIFF</small> file. <i>TIFFWriteDirectory</i> is
automatically called by <i>TIFFClose</i> and
<i>TIFFFlush</i> to write a modified directory if the file
is open for writing.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>TIFFRewriteDirectory</i> function operates similarly to
<i>TIFFWriteDirectory,</i> but can be called with
directories previously read or written that already have an
established location in the file. It will rewrite the
directory, but instead of place it at it&rsquo;s old
location (as <i>TIFFWriteDirectory</i> would) it will place
them at the end of the file, correcting the pointer from the
preceeding directory or file header to point to it&rsquo;s
new location. This is particularly important in cases where
the size of the directory and pointed to data has grown, so
it won&rsquo;t fit in the space available at the old
location.</p>

<p style="margin-left:11%; margin-top: 1em">The
<i>TIFFCheckpointDirectory</i> writes the current state of
the tiff directory into the file to make what is currently
in the file readable. Unlike <i>TIFFWriteDirectory,
TIFFCheckpointDirectory</i> does not free up the directory
data structures in memory, so they can be updated (as
strips/tiles are written) and written again. Reading such a
partial file you will at worst get a tiff read error for the
first strip/tile encountered that is incomplete, but you
will at least get all the valid data in the file before
that. When the file is complete, just use
<i>TIFFWriteDirectory</i> as usual to finish it off
cleanly.</p>

<a name="RETURN VALUES"></a>
<h2>RETURN VALUES</h2>


<p style="margin-left:11%; margin-top: 1em">1 is returned
when the contents are successfully written to the file.
Otherwise, 0 is returned if an error was encountered when
writing the directory contents.</p>

<a name="DIAGNOSTICS"></a>
<h2>DIAGNOSTICS</h2>


<p style="margin-left:11%; margin-top: 1em">All error
messages are directed to the <i>TIFFError</i>(3TIFF)
routine.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
post-encoding before directory write</b>. Before writing the
contents of the current directory, any pending data are
flushed. This message indicates that an error occurred while
doing this.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
flushing data before directory write</b>. Before writing the
contents of the current directory, any pending data are
flushed. This message indicates that an error occurred while
doing this.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Cannot write
directory, out of space</b>. There was not enough space to
allocate a temporary area for the directory that was to be
written.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
writing directory count</b>. A write error occurred when
writing the count of fields in the directory.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
writing directory contents</b>. A write error occurred when
writing the directory fields.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
writing directory link</b>. A write error occurred when
writing the link to the next directory.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
writing data for field &quot;%s&quot;</b>. A write error
occurred when writing indirect data for the specified
field.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
writing TIFF header</b>. A write error occurred when
re-writing header at the front of the file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
fetching directory count</b>. A read error occurred when
fetching the directory count field for a previous directory.
This can occur when setting up a link to the directory that
is being written.</p>

<p style="margin-left:11%; margin-top: 1em"><b>Error
fetching directory link</b>. A read error occurred when
fetching the directory link field for a previous directory.
This can occur when setting up a link to the directory that
is being written.</p>

<a name="SEE ALSO"></a>
<h2>SEE ALSO</h2>



<p style="margin-left:11%; margin-top: 1em"><b>TIFFOpen</b>(3TIFF),
<b>TIFFError</b>(3TIFF), <b>TIFFReadDirectory</b>(3TIFF),
<b>TIFFSetDirectory</b>(3TIFF), <b>libtiff</b>(3TIFF)</p>

<p style="margin-left:11%; margin-top: 1em">Libtiff library
home page: <b>http://www.remotesensing.org/libtiff/</b></p>
<hr>
</body>
</html>
